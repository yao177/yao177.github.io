<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="387px" preserveAspectRatio="none" style="width:303px;height:387px;background:#FFFFFF;" version="1.1" viewBox="0 0 303 387" width="303px" zoomAndPan="magnify"><defs><filter height="300%" id="f1twaphitg1qsf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="148.5" cy="20" fill="#000000" filter="url(#f1twaphitg1qsf)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1twaphitg1qsf)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="175" x="61" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="71" y="71.6016">factoryBean 异步初始化完成</text><rect fill="#FEFECE" filter="url(#f1twaphitg1qsf)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="215" x="41" y="104.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="195" x="51" y="125.7344">Spring 调用 factoryBean.getObject</text><rect fill="#FEFECE" filter="url(#f1twaphitg1qsf)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="219" x="39" y="158.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="49" y="179.8672">Spring 获得 proxyObject，加入容器</text><rect fill="#FEFECE" filter="url(#f1twaphitg1qsf)" height="34.1328" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="275" x="11" y="212.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="255" x="21" y="234">其他 Bean 依赖object时，proxyObject 被注入</text><rect fill="#FEFECE" filter="url(#f1twaphitg1qsf)" height="62.3984" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="213" x="42" y="266.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="176" x="52" y="288.1328">当 proxyObject.xxx 被调用时，</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171" x="52" y="302.2656">等待 factoryBean 初始化完成，</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193" x="52" y="316.3984">再调用其 getObject 来执行xxx方法</text><ellipse cx="148.5" cy="359.9297" fill="#FFFFFF" filter="url(#f1twaphitg1qsf)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="148.5" cy="359.9297" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="148.5" x2="148.5" y1="30" y2="50"/><polygon fill="#A80036" points="144.5,40,148.5,50,152.5,40,148.5,44" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="148.5" x2="148.5" y1="84.1328" y2="104.1328"/><polygon fill="#A80036" points="144.5,94.1328,148.5,104.1328,152.5,94.1328,148.5,98.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="148.5" x2="148.5" y1="138.2656" y2="158.2656"/><polygon fill="#A80036" points="144.5,148.2656,148.5,158.2656,152.5,148.2656,148.5,152.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="148.5" x2="148.5" y1="192.3984" y2="212.3984"/><polygon fill="#A80036" points="144.5,202.3984,148.5,212.3984,152.5,202.3984,148.5,206.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="148.5" x2="148.5" y1="246.5313" y2="266.5313"/><polygon fill="#A80036" points="144.5,256.5313,148.5,266.5313,152.5,256.5313,148.5,260.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="148.5" x2="148.5" y1="328.9297" y2="348.9297"/><polygon fill="#A80036" points="144.5,338.9297,148.5,348.9297,152.5,338.9297,148.5,342.9297" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[33d791a7bff85e377d6732837c542025]
@startuml 不阻塞spring流程
start
:factoryBean 异步初始化完成;
:Spring 调用 factoryBean.getObject;
:Spring 获得 proxyObject，加入容器;
:其他 Bean 依赖object时，proxyObject 被注入;
:当 proxyObject.xxx 被调用时，
等待 factoryBean 初始化完成，
再调用其 getObject 来执行xxx方法;
stop
@enduml

PlantUML version 1.2022.0(Wed Jan 12 00:16:42 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>